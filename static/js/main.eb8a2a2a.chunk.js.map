{"version":3,"sources":["components/GameMessage.tsx","components/Init.tsx","types/index.tsx","stores/GameStore.tsx","services/Game.ts","services/Speech.ts","components/Computer.tsx","components/Gamer.tsx","components/Timer.tsx","components/icons/Dots.tsx","components/icons/Mic.tsx","components/icons/Robot.tsx","components/Avatar.tsx","components/Start.tsx","containers/AppContainer.tsx","App.tsx","index.tsx"],"names":["GameMessage","title","desc","skor","extraMessage","onRestart","className","onClick","Init","GAME_STATUS_CHANGE","LAST_WORD_CHANGE","MICMODE_CHANGE","WON_MESSAGE_CHANGE","initialState","status","turn","spokenWords","lastWord","thinking","micMode","computerSkor","gamerSkor","wonMessage","GameStore","createContext","state","dispatch","gameStoreReducer","action","type","payload","GameStoreProvider","children","useReducer","Provider","value","useGameStore","useContext","actions","changeGameStatus","changeLastWord","changeMicMode","changeWonMessage","message","game","datas","names","dataLength","length","this","Math","floor","random","Promise","resolve","reject","randomThinkingTime","setTimeout","getRandomWord","lastChar","findedNames","filter","name","includes","result","currentWord","_currentWord","replace","toLowerCase","startsWith","webkitSpeechRecognition","window","speech","recognition","synth","isSupported","continuous","lang","speechSynthesis","location","protocol","navigator","mediaDevices","getUserMedia","audio","start","stop","event","callback","word","utterThis","SpeechSynthesisUtterance","addEventListener","speak","Computer","useEffect","computerTurn","then","finally","catch","error","console","log","Gamer","on","results","transcript","gamerTurn","Timer","onFinish","useState","time","setTime","intervalRef","useRef","current","setInterval","prev","clearInterval","SvgDots","props","xmlns","width","height","viewBox","xmlSpace","d","SvgMic","SvgRobot","style","fill","Avatar","isCom","borderColor","Robot","fontSize","Dots","Mic","Start","AppContainer","handleClickStart","getPermission","handleRestart","renderMain","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6LAoBeA,EAdV,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,MAAOC,EAA0C,EAA1CA,KAAMC,EAAoC,EAApCA,KAAMC,EAA8B,EAA9BA,aAAcC,EAAgB,EAAhBA,UACvC,OACE,qCACE,6BAAKJ,IACL,4BAAIC,IACc,KAAjBE,GAAuB,4BAAIA,IAC5B,gDAAmBD,KACnB,wBAAQG,UAAU,MAAMC,QAASF,EAAjC,8BCDSG,EAZiC,SAAC,GAAiB,IAAfD,EAAc,EAAdA,QACjD,OACE,qCACE,yCACA,qIACA,wBAAQD,UAAU,MAAMC,QAASA,EAAjC,4B,sBCLOE,EAAqB,qBACrBC,EAAmB,mBACnBC,EAAiB,iBACjBC,EAAqB,qBCU5BC,EAA0B,CAC9BC,OAAQ,OACRC,KAAM,WACNC,YAAa,GACbC,SAAU,GACVC,UAAU,EACVC,QAAS,MACTC,aAAc,EACdC,UAAW,EACXC,WAAY,IAGRC,EAAYC,wBAGf,CACDC,MAAOZ,EAEPa,SAAU,eAGNC,EAAmB,SAACF,EAAkBG,GAC1C,OAAQA,EAAOC,MACb,KAAKpB,EACH,MAAuB,SAAnBmB,EAAOE,QACFjB,EAEF,2BAAKY,GAAZ,IAAmBX,OAAQc,EAAOE,UACpC,KAAKpB,EACH,OAAO,2BACFe,GADL,IAEEP,SAAyB,aAAfO,EAAMV,KAChBC,YAAY,GAAD,mBAAMS,EAAMT,aAAZ,CAAyBY,EAAOE,UAC3Cf,KAAqB,UAAfU,EAAMV,KAAmB,WAAa,QAC5CE,SAAUW,EAAOE,QACjBT,UAA0B,UAAfI,EAAMV,KAAmBU,EAAMJ,UAAY,EAAII,EAAMJ,UAChED,aAA6B,aAAfK,EAAMV,KAAsBU,EAAML,aAAe,EAAIK,EAAML,eAE7E,KAAKT,EACH,OAAO,2BAAKc,GAAZ,IAAmBN,QAASS,EAAOE,UACrC,KAAKlB,EACH,OAAO,2BAAKa,GAAZ,IAAmBH,WAAYM,EAAOE,UACxC,QACE,OAAOL,IAKPM,EAA6D,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACzDC,qBAAWN,EAAkBd,GAD4B,mBAC5EY,EAD4E,KACrEC,EADqE,KAGnF,OAAO,cAACH,EAAUW,SAAX,CAAoBC,MAAO,CAAEV,QAAOC,YAApC,SAAiDM,KAGpDI,EAAe,WAAsB,IAAD,EACZC,qBAAWd,GAA/BE,EADgC,EAChCA,MAAOC,EADyB,EACzBA,SAYf,MAAO,CACLD,QACAa,QAAS,CACPC,iBAbqB,SAACzB,GAAD,OACvBY,EAAS,CAAEG,KAAMpB,EAAoBqB,QAAShB,KAa5C0B,eAXmB,SAACvB,GAAD,OACrBS,EAAS,CAAEG,KAAMnB,EAAkBoB,QAASb,KAW1CwB,cATkB,SAACtB,GAAD,OAAsBO,EAAS,CAAEG,KAAMlB,EAAgBmB,QAASX,KAUlFuB,iBARqB,SAACC,GAAD,OACvBjB,EAAS,CAAEG,KAAMjB,EAAoBkB,QAASa,Q,qBCtBnCC,EADF,I,iDArDXC,MAAQC,E,KACRC,WAAaD,EAAME,O,KACnB9B,SAAW,I,iDAEX,WACE,OAAO+B,KAAKJ,MAAMK,KAAKC,MAAMD,KAAKE,SAAWH,KAAKF,e,0BAGpD,SAAa9B,EAAkBD,GAA8C,IAAD,OAC1E,OAAO,IAAIqC,SAAgB,SAACC,EAASC,GACnC,IAAMC,EAAqBN,KAAKC,MAAsB,IAAhBD,KAAKE,UAAmB,IACvCF,KAAKC,MAAsB,IAAhBD,KAAKE,WACjB,IAAMpC,EAAYgC,OAAS,EAC/CS,YAAW,WACTF,EAAO,cACN,KAEHE,YAAW,WACT,GAAiB,KAAbxC,EACFqC,EAAQ,EAAKI,qBACR,CACL,IAAMC,EAAW1C,EAASA,EAAS+B,OAAS,GACtCY,EAAc,EAAKf,MAAMgB,QAC7B,SAACC,GAAD,OAAUA,EAAK,KAAOH,IAAa3C,EAAY+C,SAASD,MAEpDE,EAASJ,EAAYV,KAAKC,MAAMD,KAAKE,SAAWQ,EAAYZ,SAClEM,EAAQU,MAETR,Q,uBAKT,SAAUS,EAAqBhD,EAAkBD,GAC/C,OAAO,IAAIqC,SAAQ,SAACC,EAASC,GACA,kBAAhBU,GAA0BV,EAAO,WAC5C,IAAMI,EAAW1C,EAASA,EAAS+B,OAAS,GACxCkB,EAAeD,EAAYE,QAAQ,0EAA2B,KAClED,EAAeA,EAAaE,eACVC,WAAWV,EAAU,GAGZ3C,EAAY+C,SAASG,GAE5CX,EAAO,cAEPD,EAAQY,GANVX,EAAO,yB,MCxCPe,EAAqCC,OAArCD,wBAoDOE,EADA,I,WA9Cb,aAAe,yBAFfC,iBAEc,OADdC,WACc,EACRzB,KAAK0B,gBACP1B,KAAKwB,YAAc,IAAIH,EACvBrB,KAAKwB,YAAYG,YAAa,EAC9B3B,KAAKwB,YAAYI,KAAO,QACxB5B,KAAKyB,MAAQH,OAAOO,iB,+CAIxB,WACE,MAAI,4BAA6BP,QAAU,oBAAqBA,S,2BAMlE,WACE,MAAiC,WAA7BA,OAAOQ,SAASC,SACX3B,QAAQE,SAEVgB,OAAOU,UAAUC,aAAaC,aAAa,CAAEC,OAAO,M,mBAG7D,WACEnC,KAAKwB,YAAYY,U,kBAGnB,WACEpC,KAAKwB,YAAYa,S,gBAGnB,SAAGC,EAAeC,GAChBvC,KAAKwB,YAAYc,GAAS,SAACvB,GAAD,OAAiBwB,EAASxB,M,mBAGtD,SAAMyB,GAAe,IAAD,OAClB,OAAO,IAAIpC,SAAQ,SAACC,GAAa,IAAD,EACxBoC,EAAY,IAAIC,yBAAyBF,GAC/CC,EAAUE,iBAAiB,OAAO,WAChCtC,EAAQmC,MAEV,YAAKf,aAAL,SAAYmB,MAAMH,U,MCTTI,EAnCY,WAAO,IAAD,EAI3B1D,IAJ2B,IAE7BX,MAAST,EAFoB,EAEpBA,YAAaC,EAFO,EAEPA,SAAUC,EAFH,EAEGA,SAFH,IAG7BoB,QAAWE,EAHkB,EAGlBA,eAAgBD,EAHE,EAGFA,iBAAkBG,EAHhB,EAGgBA,iBAoB/C,OAjBAqD,qBAAU,WACRnD,EACGoD,aAAa/E,EAAUD,GACvBiF,MAAK,SAACjC,GACLQ,EAAOqB,MAAM7B,GAAQkC,SAAQ,WAC3B1D,EAAewB,SAGlBmC,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACE,aAAVA,IACF1D,EAAiB,6CACjBH,EAAiB,kBAGtB,IAGD,mCACGrB,GACC,qCACE,6DACCD,GAAY,6BAAKA,UCgBbsF,EA5CS,WAAO,IAAD,EAIxBnE,IAJwB,IAE1BX,MAASR,EAFiB,EAEjBA,SAAUD,EAFO,EAEPA,YAFO,IAG1BsB,QAAWG,EAHe,EAGfA,cAAeD,EAHA,EAGAA,eAAgBD,EAHhB,EAGgBA,iBAiC5C,OA9BAwD,qBAAU,WACRvB,EAAOgC,GAAG,gBAAgB,WACxB/D,EAAc,gBAGhB+B,EAAOgC,GAAG,eAAe,WACvB/D,EAAc,UAGhB+B,EAAOgC,GAAG,aAAa,WACrB/D,EAAc,OACdF,EAAiB,cAGnBiC,EAAOgC,GAAG,YAAY,SAACxC,GACrBvB,EAAc,cACd,IAAMgD,EAAezB,EAAOyC,QAAQ,GAAG,GAAGC,WAC1C9D,EACG+D,UAAUlB,EAAMxE,EAAUD,GAC1BiF,MAAK,SAACnC,GACLtB,EAAesB,GACfrB,EAAc,UAEf0D,OAAM,SAACC,GACN7D,EAAiB6D,SAGvB5B,EAAOa,UACN,IAGD,qCACE,iFACA,6BAAKpE,QCnBI2F,EAxB4C,SAAC,GAAyB,IAAvBvB,EAAsB,EAAtBA,MAAOwB,EAAe,EAAfA,SAAe,EAC1DC,mBAASzB,GADiD,mBAC3E0B,EAD2E,KACrEC,EADqE,KAG5EC,EAAcC,mBAkBpB,OAhBAnB,qBAAU,WAIR,OAHAkB,EAAYE,QAAUC,aAAY,WAChCJ,GAAQ,SAACK,GAAD,OAAUA,EAAO,OACxB,KACI,WACLC,cAAcL,EAAYE,YAE3B,IAEHpB,qBAAU,WACK,IAATgB,IACFF,IACAS,cAAcL,EAAYE,YAE3B,CAACJ,IAEG,mCAAGA,KCTGQ,EAb0C,SAACC,GAAD,OACvD,6CACEC,MAAM,6BACNC,MAAM,MACNC,OAAO,MACPC,QAAQ,YACRC,SAAS,YACLL,GANN,aAQE,sBAAMM,EAAE,2fCKGC,EAdyC,SAACP,GAAD,OACtD,8CACEC,MAAM,6BACNG,QAAQ,cACRC,SAAS,WACTH,MAAM,MACNC,OAAO,OACHH,GANN,cAQE,sBAAMM,EAAE,qWACR,sBAAMA,EAAE,4EC4BGE,EAtC2C,SAACR,GAAD,OACxD,8CACEC,MAAM,6BACNG,QAAQ,sBACRC,SAAS,WACTH,MAAM,MACNC,OAAO,OACHH,GANN,cAQE,sBACES,MAAO,CACLC,KAAM,WAERJ,EAAE,oSAEJ,sBACEG,MAAO,CACLC,KAAM,WAERJ,EAAE,qHAEJ,sBACEG,MAAO,CACLC,KAAM,WAERJ,EAAE,2DAEJ,sBACEG,MAAO,CACLC,KAAM,WAERJ,EAAE,ggBAEJ,sBAAMA,EAAE,q5BACR,sBAAMA,EAAE,48BCAGK,EAzBV,SAAC,GAAoC,IAAlCrE,EAAiC,EAAjCA,KAAM/C,EAA2B,EAA3BA,KAAMqH,EAAqB,EAArBA,MAAOjH,EAAc,EAAdA,QACzB,OACE,sBAAKb,UAAS,iBAAd,UACE,qBACE2H,MAAO,CACLI,YAAatH,EAAO,oBAAsB,gBAE5CT,UAAS,iBAAYS,EAAO,YAAc,IAJ5C,SAMGqH,EACC,cAACE,EAAD,CAAOL,MAAO,CAAEM,SAAU,QAAUL,KAAK,wBAC3B,eAAZ/G,EACF,cAACqH,EAAD,CAAMP,MAAO,CAAEM,SAAU,UAEzB,cAACE,EAAD,CACER,MAAO,CAAEM,SAAU,QACnBL,KAAkB,cAAZ/G,EAA0B,oBAAsB,0BAI5D,qBAAKb,UAAU,cAAf,SAA8BwD,QCWrB4E,EAjCS,WAAO,IAAD,EAIxBtG,IAJwB,IAE1BX,MAASV,EAFiB,EAEjBA,KAAMI,EAFW,EAEXA,QAASE,EAFE,EAEFA,UAAWD,EAFT,EAESA,aACxBmB,EAHe,EAG1BD,QAAWC,iBAGb,OACE,mCACE,sBAAKjC,UAAU,iBAAf,UACE,sBAAKA,UAAU,aAAf,UACE,cAAC,EAAD,CAAQwD,KAAK,MAAM/C,KAAe,UAATA,EAAkBI,QAASA,IACpD,sBAAKb,UAAU,QAAf,UACGe,EADH,MACiBD,KAEjB,cAAC,EAAD,CAAQ0C,KAAK,aAAa/C,KAAe,aAATA,EAAqBqH,OAAK,OAE5D,qBAAK9H,UAAU,YAAf,SAAqC,aAATS,EAAsB,cAAC,EAAD,IAAe,cAAC,EAAD,MACjE,qBAAKT,UAAU,QAAf,SACY,UAATS,GACC,cAAC,EAAD,CACEsE,MAAO,EACPwB,SAAU,WACRrC,EAAOc,OACP/C,EAAiB,uBCgGlBoG,EAvHgB,WAAO,IAAD,EAI/BvG,IAJ+B,IAEjCX,MAASH,EAFwB,EAExBA,WAAYR,EAFY,EAEZA,OAAQO,EAFI,EAEJA,UAClBkB,EAHsB,EAGjCD,QAAWC,iBAGbwD,qBAAU,WACHvB,EAAOG,cAGVpC,EAAiB,QAFjBA,EAAiB,eAIlB,IAEH,IAAMqG,EAAmB,WACvBpE,EACGqE,gBACA5C,MAAK,kBAAM1D,EAAiB,cAC5B4D,OAAM,kBAAM5D,EAAiB,uBAG5BuG,EAAgB,WACpBvG,EAAiB,SA8FnB,OAAO,mCA3FY,WACjB,OAAQzB,GACN,IAAK,OACH,OAAO,cAAC,EAAD,CAAMP,QAASqI,IACxB,IAAK,UACH,OAAO,cAAC,EAAD,IACT,IAAK,UACH,OACE,cAAC,EAAD,CACE3I,MAAM,eACNC,KAAM,oDACNC,KAAMkB,EACNhB,UAAWyI,IAGjB,IAAK,QACH,OACE,cAAC,EAAD,CACE7I,MAAM,cACNC,KAAM,iCACNC,KAAMkB,EACNhB,UAAWyI,IAGjB,IAAK,WACH,OACE,cAAC,EAAD,CACE7I,MAAM,cACNC,KAAM,kDACNC,KAAMkB,EACNhB,UAAWyI,IAGjB,IAAK,iBACH,OACE,cAAC,EAAD,CACE7I,MAAM,cACNC,KAAM,2CACNC,KAAMkB,EACNhB,UAAWyI,IAGjB,IAAK,aACH,OACE,cAAC,EAAD,CACE7I,MAAM,cACNC,KAAM,uDACNC,KAAMkB,EACNhB,UAAWyI,IAGjB,IAAK,kBACH,OACE,cAAC,EAAD,CACE7I,MAAM,8BACNC,KAAM,wCACNG,UAAWyI,IAGjB,IAAK,YACH,OACE,cAAC,EAAD,CACE7I,MAAO,oCACPC,KAAM,+FACNG,UAAWyI,IAGjB,IAAK,WACH,OACE,cAAC,EAAD,CACE7I,MAAO,YACPC,KAAM,YACNC,KAAMkB,EACNhB,UAAWyI,IAGjB,IAAK,WACH,OACE,cAAC,EAAD,CACE7I,MAAO,6BACPC,KAAM,yDACNC,KAAMkB,EACNjB,aAAckB,EACdjB,UAAWyI,KAQXC,MC/GGC,EAVO,WACpB,OACE,sBAAK1I,UAAU,YAAf,UACE,qBAAKA,UAAU,WAAf,6BACA,qBAAKA,UAAU,cAAf,SACE,cAAC,EAAD,UCDR2I,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,U","file":"static/js/main.eb8a2a2a.chunk.js","sourcesContent":["const GameMessage: React.FC<{\r\n  title: string;\r\n  desc: string;\r\n  skor?: number;\r\n  extraMessage?: string;\r\n  onRestart: () => void;\r\n}> = ({ title, desc, skor, extraMessage, onRestart }) => {\r\n  return (\r\n    <>\r\n      <h2>{title}</h2>\r\n      <p>{desc}</p>\r\n      {extraMessage !== '' && <p>{extraMessage}</p>}\r\n      <p>Bilinen kelime {skor}</p>\r\n      <button className=\"btn\" onClick={onRestart}>\r\n        Yeniden Oyna\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default GameMessage;\r\n","const Init: React.FC<{ onClick: () => void }> = ({ onClick }) => {\r\n  return (\r\n    <>\r\n      <h2>Merhaba</h2>\r\n      <p>Yapay zekaya karşı kelimenin son harfi ile sıra tabanlı kelime türetme oyunu.</p>\r\n      <button className=\"btn\" onClick={onClick}>\r\n        Başla\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Init;\r\n","export const GAME_STATUS_CHANGE = 'GAME_STATUS_CHANGE';\r\nexport const LAST_WORD_CHANGE = 'LAST_WORD_CHANGE';\r\nexport const MICMODE_CHANGE = 'MICMODE_CHANGE';\r\nexport const WON_MESSAGE_CHANGE = 'WON_MESSAGE_CHANGE';\r\n\r\nexport type GameStatus =\r\n  | 'init'\r\n  | 'unsupport'\r\n  | 'micAccessDenied'\r\n  | 'started'\r\n  | 'gameover'\r\n  | 'nomatch'\r\n  | 'error'\r\n  | 'timeover'\r\n  | 'firstCharError'\r\n  | 'repeatWord'\r\n  | 'gamerWon';\r\nexport type Turn = 'computer' | 'gamer';\r\nexport type MicMode = 'listening' | 'processing' | 'off';\r\n\r\nexport type GameState = {\r\n  status: GameStatus;\r\n  turn: Turn;\r\n  spokenWords: Array<string>;\r\n  lastWord: string;\r\n  thinking: boolean;\r\n  micMode: MicMode;\r\n  computerSkor: number;\r\n  gamerSkor: number;\r\n  wonMessage: string;\r\n};\r\n\r\nexport type Action = {\r\n  type:\r\n    | typeof GAME_STATUS_CHANGE\r\n    | typeof LAST_WORD_CHANGE\r\n    | typeof MICMODE_CHANGE\r\n    | typeof WON_MESSAGE_CHANGE;\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  payload: any;\r\n};\r\n\r\nexport type GameStoreHook = {\r\n  state: GameState;\r\n  actions: {\r\n    changeGameStatus: (status: GameStatus) => void;\r\n    changeLastWord: (lastWord: string) => void;\r\n    changeMicMode: (micMode: MicMode) => void;\r\n    changeWonMessage: (message: string) => void;\r\n  };\r\n};\r\n\r\nexport type RecognitionHook = {\r\n  start: () => void;\r\n  stop: () => void;\r\n  onResult: () => void;\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  on: (event: string, callback: (data: any) => void) => void;\r\n  isSupported: () => boolean;\r\n};\r\n","import React, { createContext, Dispatch, useContext, useReducer } from 'react';\r\nimport {\r\n  Action,\r\n  GameState,\r\n  GameStatus,\r\n  GameStoreHook,\r\n  GAME_STATUS_CHANGE,\r\n  LAST_WORD_CHANGE,\r\n  MicMode,\r\n  MICMODE_CHANGE,\r\n  WON_MESSAGE_CHANGE,\r\n} from '../types';\r\n\r\nconst initialState: GameState = {\r\n  status: 'init',\r\n  turn: 'computer',\r\n  spokenWords: [],\r\n  lastWord: '',\r\n  thinking: true,\r\n  micMode: 'off',\r\n  computerSkor: 0,\r\n  gamerSkor: 0,\r\n  wonMessage: '',\r\n};\r\n\r\nconst GameStore = createContext<{\r\n  state: GameState;\r\n  dispatch: Dispatch<Action>;\r\n}>({\r\n  state: initialState,\r\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n  dispatch: () => {},\r\n});\r\n\r\nconst gameStoreReducer = (state: GameState, action: Action): GameState => {\r\n  switch (action.type) {\r\n    case GAME_STATUS_CHANGE:\r\n      if (action.payload === 'init') {\r\n        return initialState;\r\n      }\r\n      return { ...state, status: action.payload };\r\n    case LAST_WORD_CHANGE:\r\n      return {\r\n        ...state,\r\n        thinking: state.turn === 'computer' ? false : true,\r\n        spokenWords: [...state.spokenWords, action.payload],\r\n        turn: state.turn === 'gamer' ? 'computer' : 'gamer',\r\n        lastWord: action.payload,\r\n        gamerSkor: state.turn === 'gamer' ? state.gamerSkor + 1 : state.gamerSkor,\r\n        computerSkor: state.turn === 'computer' ? state.computerSkor + 1 : state.computerSkor,\r\n      };\r\n    case MICMODE_CHANGE:\r\n      return { ...state, micMode: action.payload };\r\n    case WON_MESSAGE_CHANGE:\r\n      return { ...state, wonMessage: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// eslint-disable-next-line react/prop-types\r\nconst GameStoreProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const [state, dispatch] = useReducer(gameStoreReducer, initialState);\r\n\r\n  return <GameStore.Provider value={{ state, dispatch }}>{children}</GameStore.Provider>;\r\n};\r\n\r\nconst useGameStore = (): GameStoreHook => {\r\n  const { state, dispatch } = useContext(GameStore);\r\n\r\n  const changeGameStatus = (status: GameStatus) =>\r\n    dispatch({ type: GAME_STATUS_CHANGE, payload: status });\r\n\r\n  const changeLastWord = (lastWord: string) =>\r\n    dispatch({ type: LAST_WORD_CHANGE, payload: lastWord });\r\n\r\n  const changeMicMode = (micMode: MicMode) => dispatch({ type: MICMODE_CHANGE, payload: micMode });\r\n\r\n  const changeWonMessage = (message: string) =>\r\n    dispatch({ type: WON_MESSAGE_CHANGE, payload: message });\r\n  return {\r\n    state,\r\n    actions: {\r\n      changeGameStatus,\r\n      changeLastWord,\r\n      changeMicMode,\r\n      changeWonMessage,\r\n    },\r\n  };\r\n};\r\n\r\nexport { GameStoreProvider, useGameStore };\r\n","import names from '../db/names.json';\r\n\r\nclass Game {\r\n  datas = names;\r\n  dataLength = names.length;\r\n  thinking = 2000;\r\n\r\n  getRandomWord() {\r\n    return this.datas[Math.floor(Math.random() * this.dataLength)];\r\n  }\r\n\r\n  computerTurn(lastWord: string, spokenWords: Array<string>): Promise<string> {\r\n    return new Promise<string>((resolve, reject) => {\r\n      const randomThinkingTime = Math.floor(Math.random() * 4000) + 300;\r\n      const notFoundChance = Math.floor(Math.random() * 100);\r\n      if (notFoundChance <= 30 && spokenWords.length > 4) {\r\n        setTimeout(() => {\r\n          reject('notFound');\r\n        }, 8000);\r\n      } else {\r\n        setTimeout(() => {\r\n          if (lastWord === '') {\r\n            resolve(this.getRandomWord());\r\n          } else {\r\n            const lastChar = lastWord[lastWord.length - 1];\r\n            const findedNames = this.datas.filter(\r\n              (name) => name[0] === lastChar && !spokenWords.includes(name),\r\n            );\r\n            const result = findedNames[Math.floor(Math.random() * findedNames.length)];\r\n            resolve(result);\r\n          }\r\n        }, randomThinkingTime);\r\n      }\r\n    });\r\n  }\r\n\r\n  gamerTurn(currentWord: string, lastWord: string, spokenWords: Array<string>): Promise<string> {\r\n    return new Promise((resolve, reject) => {\r\n      if (typeof currentWord !== 'string') reject('nomatch');\r\n      const lastChar = lastWord[lastWord.length - 1];\r\n      let _currentWord = currentWord.replace(/[^a-zA-ZığüşöçİĞÜŞÖÇ ]+/, '');\r\n      _currentWord = _currentWord.toLowerCase();\r\n      if (!_currentWord.startsWith(lastChar, 0)) {\r\n        reject('firstCharError');\r\n      } else {\r\n        const checkSpokenWords = spokenWords.includes(_currentWord);\r\n        if (checkSpokenWords) {\r\n          reject('repeatWord');\r\n        } else {\r\n          resolve(_currentWord);\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nconst game = new Game();\r\nexport default game;\r\n","interface IWindow extends Window {\r\n  webkitSpeechRecognition: any;\r\n}\r\nconst { webkitSpeechRecognition }: IWindow = window as unknown as IWindow;\r\n\r\nclass Speech {\r\n  recognition;\r\n  synth;\r\n  constructor() {\r\n    if (this.isSupported()) {\r\n      this.recognition = new webkitSpeechRecognition();\r\n      this.recognition.continuous = false;\r\n      this.recognition.lang = 'tr-TR';\r\n      this.synth = window.speechSynthesis;\r\n    }\r\n  }\r\n\r\n  isSupported() {\r\n    if ('webkitSpeechRecognition' in window && 'speechSynthesis' in window) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  getPermission() {\r\n    if (window.location.protocol !== 'https:') {\r\n      return Promise.reject();\r\n    }\r\n    return window.navigator.mediaDevices.getUserMedia({ audio: true });\r\n  }\r\n\r\n  start() {\r\n    this.recognition.start();\r\n  }\r\n\r\n  stop() {\r\n    this.recognition.stop();\r\n  }\r\n\r\n  on(event: string, callback: (data: any) => void) {\r\n    this.recognition[event] = (result: any) => callback(result);\r\n  }\r\n\r\n  speak(word: string) {\r\n    return new Promise((resolve) => {\r\n      const utterThis = new SpeechSynthesisUtterance(word);\r\n      utterThis.addEventListener('end', () => {\r\n        resolve(word);\r\n      });\r\n      this.synth?.speak(utterThis);\r\n    });\r\n  }\r\n}\r\n\r\nconst speech = new Speech();\r\nexport default speech;\r\n","import { useEffect } from 'react';\r\nimport game from '../services/Game';\r\nimport speech from '../services/Speech';\r\nimport { useGameStore } from '../stores/GameStore';\r\n\r\nconst Computer: React.FC = () => {\r\n  const {\r\n    state: { spokenWords, lastWord, thinking },\r\n    actions: { changeLastWord, changeGameStatus, changeWonMessage },\r\n  } = useGameStore();\r\n\r\n  useEffect(() => {\r\n    game\r\n      .computerTurn(lastWord, spokenWords)\r\n      .then((result) => {\r\n        speech.speak(result).finally(() => {\r\n          changeLastWord(result);\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        if (error === 'notFound') {\r\n          changeWonMessage('Bilgisayar yeni bir kelime bulamadı.');\r\n          changeGameStatus('gamerWon');\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {thinking && (\r\n        <>\r\n          <p>Düşünüyorum...</p>\r\n          {lastWord && <h2>{lastWord}</h2>}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Computer;\r\n","import { useEffect } from 'react';\r\nimport game from '../services/Game';\r\nimport speech from '../services/Speech';\r\nimport { useGameStore } from '../stores/GameStore';\r\n\r\nconst Gamer: React.FC = () => {\r\n  const {\r\n    state: { lastWord, spokenWords },\r\n    actions: { changeMicMode, changeLastWord, changeGameStatus },\r\n  } = useGameStore();\r\n\r\n  useEffect(() => {\r\n    speech.on('onsoundstart', () => {\r\n      changeMicMode('listening');\r\n    });\r\n\r\n    speech.on('onspeechend', () => {\r\n      changeMicMode('off');\r\n    });\r\n\r\n    speech.on('onnomatch', () => {\r\n      changeMicMode('off');\r\n      changeGameStatus('nomatch');\r\n    });\r\n\r\n    speech.on('onresult', (result) => {\r\n      changeMicMode('processing');\r\n      const word: string = result.results[0][0].transcript;\r\n      game\r\n        .gamerTurn(word, lastWord, spokenWords)\r\n        .then((name: string) => {\r\n          changeLastWord(name);\r\n          changeMicMode('off');\r\n        })\r\n        .catch((error) => {\r\n          changeGameStatus(error);\r\n        });\r\n    });\r\n    speech.start();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <p>Son harfinden yenisini üretmen gereken kelime</p>\r\n      <h2>{lastWord}</h2>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Gamer;\r\n","import { FC, useEffect, useRef, useState } from 'react';\r\nconst Timer: FC<{ start: number; onFinish: () => void }> = ({ start, onFinish }) => {\r\n  const [time, setTime] = useState(start);\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const intervalRef = useRef<any>();\r\n\r\n  useEffect(() => {\r\n    intervalRef.current = setInterval(() => {\r\n      setTime((prev) => prev - 1);\r\n    }, 1000);\r\n    return () => {\r\n      clearInterval(intervalRef.current);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (time === 0) {\r\n      onFinish();\r\n      clearInterval(intervalRef.current);\r\n    }\r\n  }, [time]);\r\n\r\n  return <>{time}</>;\r\n};\r\n\r\nexport default Timer;\r\n","const SvgDots: React.FC<React.SVGProps<SVGSVGElement>> = (props) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    viewBox=\"0 0 92 92\"\r\n    xmlSpace=\"preserve\"\r\n    {...props}\r\n  >\r\n    <path d=\"M21 53c-1.8 0-3.7-.8-5-2.1-1.3-1.3-2-3.1-2-4.9 0-1.8.8-3.6 2-5 1.3-1.3 3.1-2 5-2 1.8 0 3.6.8 4.9 2 1.3 1.3 2.1 3.1 2.1 5 0 1.8-.8 3.6-2.1 4.9-1.3 1.3-3.1 2.1-4.9 2.1zm29.9-2.1c1.3-1.3 2.1-3.1 2.1-4.9 0-1.8-.8-3.6-2.1-5-1.3-1.3-3.1-2-4.9-2-1.8 0-3.7.8-5 2-1.3 1.3-2 3.1-2 5 0 1.8.8 3.6 2 4.9 1.3 1.3 3.1 2.1 5 2.1 1.8 0 3.6-.8 4.9-2.1zm25 0c1.3-1.3 2.1-3.1 2.1-4.9 0-1.8-.8-3.6-2.1-5-1.3-1.3-3.1-2-4.9-2-1.8 0-3.7.8-5 2-1.3 1.3-2 3.1-2 5 0 1.8.8 3.6 2 4.9 1.3 1.3 3.1 2.1 5 2.1 1.8 0 3.6-.8 4.9-2.1z\" />\r\n  </svg>\r\n);\r\n\r\nexport default SvgDots;\r\n","const SvgMic: React.FC<React.SVGProps<SVGSVGElement>> = (props) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    viewBox=\"0 0 512 512\"\r\n    xmlSpace=\"preserve\"\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    {...props}\r\n  >\r\n    <path d=\"M448 224c0-17.672-14.328-32-32-32s-32 14.328-32 32c0 70.578-57.422 128-128 128s-128-57.422-128-128c0-17.672-14.328-32-32-32s-32 14.328-32 32c0 94.945 69.336 173.801 160 189.109V448h-16c-17.672 0-32 14.328-32 32v32h160v-32c0-17.672-14.328-32-32-32h-16v-34.891C378.664 397.801 448 318.945 448 224zM352 96c0-53.02-42.98-96-96-96s-96 42.98-96 96v48h192V96z\" />\r\n    <path d=\"M256 320c53.02 0 96-42.98 96-96v-48H160v48c0 53.02 42.98 96 96 96z\" />\r\n  </svg>\r\n);\r\n\r\nexport default SvgMic;\r\n","const SvgRobot: React.FC<React.SVGProps<SVGSVGElement>> = (props) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    viewBox=\"0 0 475.764 475.764\"\r\n    xmlSpace=\"preserve\"\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    {...props}\r\n  >\r\n    <path\r\n      style={{\r\n        fill: '#f4661e',\r\n      }}\r\n      d=\"M62.064 7.5c20.128 0 36.376 16.248 36.376 36.376S82.192 80.252 62.064 80.252 25.688 64.004 25.688 43.876C25.688 23.748 41.936 7.5 62.064 7.5zM413.701 7.5c20.128 0 36.376 16.248 36.376 36.376s-16.248 36.376-36.376 36.376-36.376-16.248-36.376-36.376C377.324 23.748 393.572 7.5 413.701 7.5z\"\r\n    />\r\n    <path\r\n      style={{\r\n        fill: '#afb6bb',\r\n      }}\r\n      d=\"M165.13 74.19h145.505v54.564H165.13zM19.625 219.694h42.439v72.752H19.625zM413.701 219.694h42.439v72.752h-42.439z\"\r\n    />\r\n    <path\r\n      style={{\r\n        fill: '#767d81',\r\n      }}\r\n      d=\"M413.701 292.447v175.818H62.064V128.754h351.637v90.94z\"\r\n    />\r\n    <path\r\n      style={{\r\n        fill: '#e7eced',\r\n      }}\r\n      d=\"M347.011 371.262v24.251c0 6.669-5.456 12.125-12.125 12.125H140.879c-6.669 0-12.125-5.456-12.125-12.125v-24.251c0-6.669 5.456-12.125 12.125-12.125h194.006c6.67-.001 12.126 5.456 12.126 12.125zM153.005 189.381c26.797 0 48.501 21.704 48.501 48.502 0 26.797-21.704 48.502-48.501 48.502s-48.502-21.704-48.502-48.502c0-26.798 21.705-48.502 48.502-48.502zM322.76 189.381c26.797 0 48.501 21.704 48.501 48.502 0 26.797-21.704 48.502-48.501 48.502s-48.502-21.704-48.502-48.502c.001-26.798 21.705-48.502 48.502-48.502z\"\r\n    />\r\n    <path d=\"M463.639 212.194h-42.438V87.097c20.631-3.57 36.376-21.586 36.376-43.221C457.577 19.683 437.894 0 413.701 0c-24.193 0-43.876 19.683-43.876 43.876 0 21.635 15.745 39.651 36.376 43.221v34.156h-88.066V66.689H157.63v54.564H69.564V87.097c20.631-3.57 36.376-21.586 36.376-43.221C105.94 19.683 86.258 0 62.064 0S18.188 19.683 18.188 43.876c0 21.635 15.745 39.651 36.376 43.221v125.097H12.125v87.752h42.439v175.818H421.2V299.946h42.438v-87.752h.001zM384.824 43.876C384.824 27.954 397.778 15 413.7 15s28.876 12.954 28.876 28.876-12.954 28.876-28.876 28.876-28.876-12.954-28.876-28.876zm-351.636 0C33.188 27.954 46.142 15 62.064 15S90.94 27.954 90.94 43.876 77.987 72.752 62.064 72.752 33.188 59.798 33.188 43.876zM172.63 81.689h57.752v22.813h15V81.689h57.752v39.564H172.63V81.689zM27.125 227.194h27.439v57.752H27.125v-57.752zm379.076 233.571H69.564V136.254H406.2v324.511h.001zm42.438-175.819h-27.438v-57.752h27.438v57.752z\" />\r\n    <path d=\"M209.006 237.883c0-30.88-25.122-56.002-56.001-56.002s-56.001 25.122-56.001 56.002c0 30.879 25.122 56.001 56.001 56.001s56.001-25.122 56.001-56.001zm-97.003 0c0-22.608 18.393-41.002 41.001-41.002s41.001 18.394 41.001 41.002-18.393 41.001-41.001 41.001-41.001-18.393-41.001-41.001zM322.76 181.881c-30.879 0-56.001 25.122-56.001 56.002 0 30.879 25.122 56.001 56.001 56.001 30.879 0 56.001-25.122 56.001-56.001.001-30.88-25.121-56.002-56.001-56.002zm0 97.003c-22.608 0-41.001-18.393-41.001-41.001s18.393-41.002 41.001-41.002c22.608 0 41.001 18.394 41.001 41.002s-18.392 41.001-41.001 41.001zM334.886 351.636H140.879c-10.821 0-19.625 8.804-19.625 19.626v24.251c0 10.821 8.804 19.625 19.625 19.625h194.006c10.821 0 19.625-8.804 19.625-19.625v-24.251c.001-10.823-8.803-19.626-19.624-19.626zm4.625 43.877c0 2.507-2.118 4.625-4.625 4.625H140.879c-2.507 0-4.625-2.118-4.625-4.625v-24.251c0-2.508 2.118-4.626 4.625-4.626h194.006c2.507 0 4.625 2.118 4.625 4.626l.001 24.251z\" />\r\n  </svg>\r\n);\r\n\r\nexport default SvgRobot;\r\n","import { FC } from 'react';\r\nimport { MicMode } from '../types';\r\nimport { Dots, Mic, Robot } from './icons';\r\n\r\nconst Avatar: FC<{\r\n  name: string;\r\n  turn: boolean;\r\n  isCom?: boolean;\r\n  micMode?: MicMode;\r\n}> = ({ name, turn, isCom, micMode }) => {\r\n  return (\r\n    <div className={`avatar-wrapper`}>\r\n      <div\r\n        style={{\r\n          borderColor: turn ? 'var(--turn-color)' : 'currentcolor',\r\n        }}\r\n        className={`avatar ${turn ? 'listening' : ''}`}\r\n      >\r\n        {isCom ? (\r\n          <Robot style={{ fontSize: '2rem' }} fill=\"var(--border-color)\" />\r\n        ) : micMode === 'processing' ? (\r\n          <Dots style={{ fontSize: '2rem' }} />\r\n        ) : (\r\n          <Mic\r\n            style={{ fontSize: '2rem' }}\r\n            fill={micMode === 'listening' ? 'var(--turn-color)' : 'var(--border-color)'}\r\n          />\r\n        )}\r\n      </div>\r\n      <div className=\"avatar-name\">{name}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","import { useGameStore } from '../stores/GameStore';\r\nimport Computer from './Computer';\r\nimport Gamer from './Gamer';\r\nimport Timer from './Timer';\r\nimport Avatar from './Avatar';\r\nimport speech from '../services/Speech';\r\n\r\nconst Start: React.FC = () => {\r\n  const {\r\n    state: { turn, micMode, gamerSkor, computerSkor },\r\n    actions: { changeGameStatus },\r\n  } = useGameStore();\r\n\r\n  return (\r\n    <>\r\n      <div className=\"game-container\">\r\n        <div className=\"skor-board\">\r\n          <Avatar name=\"Sen\" turn={turn === 'gamer'} micMode={micMode} />\r\n          <div className=\"skors\">\r\n            {gamerSkor} - {computerSkor}\r\n          </div>\r\n          <Avatar name=\"Bilgisayar\" turn={turn === 'computer'} isCom />\r\n        </div>\r\n        <div className=\"game-area\">{turn === 'computer' ? <Computer /> : <Gamer />}</div>\r\n        <div className=\"timer\">\r\n          {turn === 'gamer' && (\r\n            <Timer\r\n              start={8}\r\n              onFinish={() => {\r\n                speech.stop();\r\n                changeGameStatus('timeover');\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Start;\r\n","import { useEffect } from 'react';\r\nimport GameMessage from '../components/GameMessage';\r\nimport Init from '../components/Init';\r\nimport Start from '../components/Start';\r\nimport speech from '../services/Speech';\r\nimport { useGameStore } from '../stores/GameStore';\r\n\r\nconst AppContainer: React.FC = () => {\r\n  const {\r\n    state: { wonMessage, status, gamerSkor },\r\n    actions: { changeGameStatus },\r\n  } = useGameStore();\r\n\r\n  useEffect(() => {\r\n    if (!speech.isSupported()) {\r\n      changeGameStatus('unsupport');\r\n    } else {\r\n      changeGameStatus('init');\r\n    }\r\n  }, []);\r\n\r\n  const handleClickStart = () => {\r\n    speech\r\n      .getPermission()\r\n      .then(() => changeGameStatus('started'))\r\n      .catch(() => changeGameStatus('micAccessDenied'));\r\n  };\r\n\r\n  const handleRestart = () => {\r\n    changeGameStatus('init');\r\n  };\r\n\r\n  const renderMain = () => {\r\n    switch (status) {\r\n      case 'init':\r\n        return <Init onClick={handleClickStart} />;\r\n      case 'started':\r\n        return <Start />;\r\n      case 'nomatch':\r\n        return (\r\n          <GameMessage\r\n            title=\"Kaybettiniz!\"\r\n            desc={'Söylenilen kelime anlaşılamadı.'}\r\n            skor={gamerSkor}\r\n            onRestart={handleRestart}\r\n          />\r\n        );\r\n      case 'error':\r\n        return (\r\n          <GameMessage\r\n            title=\"Kaybettiniz\"\r\n            desc={'Sistem hatası oluştu'}\r\n            skor={gamerSkor}\r\n            onRestart={handleRestart}\r\n          />\r\n        );\r\n      case 'timeover':\r\n        return (\r\n          <GameMessage\r\n            title=\"Kaybettiniz\"\r\n            desc={'Verilen süre içinde yanıt verilmedi.'}\r\n            skor={gamerSkor}\r\n            onRestart={handleRestart}\r\n          />\r\n        );\r\n      case 'firstCharError':\r\n        return (\r\n          <GameMessage\r\n            title=\"Kaybettiniz\"\r\n            desc={'Söylenen ismin ilk harfi hatalı.'}\r\n            skor={gamerSkor}\r\n            onRestart={handleRestart}\r\n          />\r\n        );\r\n      case 'repeatWord':\r\n        return (\r\n          <GameMessage\r\n            title=\"Kaybettiniz\"\r\n            desc={'Söylenen kelime daha önce kullanıldı'}\r\n            skor={gamerSkor}\r\n            onRestart={handleRestart}\r\n          />\r\n        );\r\n      case 'micAccessDenied':\r\n        return (\r\n          <GameMessage\r\n            title=\"Microfona Erişemiyoruz\"\r\n            desc={'Microfona erişim izni verilmedi.'}\r\n            onRestart={handleRestart}\r\n          />\r\n        );\r\n      case 'unsupport':\r\n        return (\r\n          <GameMessage\r\n            title={'Desteklenmeyen Tarayıcı'}\r\n            desc={'Kullandığınız tarayıcı ses algılamayı desteklenmiyor'}\r\n            onRestart={handleRestart}\r\n          />\r\n        );\r\n      case 'gameover':\r\n        return (\r\n          <GameMessage\r\n            title={'Kaybettin'}\r\n            desc={'Kaybettin'}\r\n            skor={gamerSkor}\r\n            onRestart={handleRestart}\r\n          />\r\n        );\r\n      case 'gamerWon':\r\n        return (\r\n          <GameMessage\r\n            title={'Kazandın 🎉'}\r\n            desc={'Tebrikler bilgisayarı yenmeyi başardın.'}\r\n            skor={gamerSkor}\r\n            extraMessage={wonMessage}\r\n            onRestart={handleRestart}\r\n          />\r\n        );\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  return <>{renderMain()}</>;\r\n};\r\n\r\nexport default AppContainer;\r\n","import AppContainer from './containers/AppContainer';\r\n\r\nconst App: React.FC = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"app-name\">Kelime Türet</div>\r\n      <div className=\"app-content\">\r\n        <AppContainer />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { GameStoreProvider } from './stores/GameStore';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <GameStoreProvider>\r\n      <App />\r\n    </GameStoreProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}