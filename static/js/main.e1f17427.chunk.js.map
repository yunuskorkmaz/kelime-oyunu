{"version":3,"sources":["components/GameMessage.tsx","components/Init.tsx","types/index.tsx","stores/GameStore.tsx","services/Game.ts","services/Speech.ts","components/Computer.tsx","components/Gamer.tsx","components/Timer.tsx","components/icons/Dots.tsx","components/icons/Mic.tsx","components/icons/Robot.tsx","components/Avatar.tsx","components/Start.tsx","containers/AppContainer.tsx","App.tsx","index.tsx"],"names":["GameMessage","title","desc","skor","extraMessage","onRestart","className","onClick","Init","GAME_STATUS_CHANGE","LAST_WORD_CHANGE","MICMODE_CHANGE","WON_MESSAGE_CHANGE","initialState","status","turn","spokenWords","lastWord","thinking","micMode","computerSkor","gamerSkor","wonMessage","GameStore","createContext","state","dispatch","gameStoreReducer","action","type","payload","GameStoreProvider","children","useReducer","Provider","value","useGameStore","useContext","actions","changeGameStatus","changeLastWord","changeMicMode","changeWonMessage","message","game","datas","names","dataLength","length","this","Math","floor","random","Promise","resolve","reject","randomThinkingTime","setTimeout","getRandomWord","lastChar","findedNames","filter","name","includes","result","currentWord","_currentWord","replace","toLowerCase","startsWith","webkitSpeechRecognition","window","speech","recognition","synth","isSupported","continuous","lang","speechSynthesis","location","protocol","navigator","mediaDevices","getUserMedia","audio","start","stop","event","callback","word","utterThis","SpeechSynthesisUtterance","addEventListener","speak","Computer","useEffect","computerTurn","then","finally","catch","error","console","log","Gamer","on","results","transcript","gamerTurn","Timer","onFinish","useState","time","setTime","intervalRef","useRef","current","setInterval","prev","clearInterval","SvgDots","props","xmlns","width","height","viewBox","xmlSpace","d","SvgMic","SvgRobot","style","fill","Avatar","isCom","borderColor","Robot","fontSize","Dots","Mic","Start","AppContainer","handleClickStart","getPermission","handleRestart","renderMain","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e1f17427.chunk.js","sourcesContent":["const GameMessage: React.FC<{\n  title: string;\n  desc: string;\n  skor?: number;\n  extraMessage?: string;\n  onRestart: () => void;\n}> = ({ title, desc, skor, extraMessage, onRestart }) => {\n  return (\n    <>\n      <h2>{title}</h2>\n      <p>{desc}</p>\n      {extraMessage !== '' && <p>{extraMessage}</p>}\n      <p>Bilinen kelime {skor}</p>\n      <button className=\"btn\" onClick={onRestart}>\n        Yeniden Oyna\n      </button>\n    </>\n  );\n};\n\nexport default GameMessage;\n","const Init: React.FC<{ onClick: () => void }> = ({ onClick }) => {\n  return (\n    <>\n      <h2>Merhaba</h2>\n      <p>Yapay zekaya karşı kelimenin son harfi ile sıra tabanlı kelime türetme oyunu.</p>\n      <button className=\"btn\" onClick={onClick}>\n        Başla\n      </button>\n    </>\n  );\n};\n\nexport default Init;\n","export const GAME_STATUS_CHANGE = 'GAME_STATUS_CHANGE';\nexport const LAST_WORD_CHANGE = 'LAST_WORD_CHANGE';\nexport const MICMODE_CHANGE = 'MICMODE_CHANGE';\nexport const WON_MESSAGE_CHANGE = 'WON_MESSAGE_CHANGE';\n\nexport type GameStatus =\n  | 'init'\n  | 'unsupport'\n  | 'micAccessDenied'\n  | 'started'\n  | 'gameover'\n  | 'nomatch'\n  | 'error'\n  | 'timeover'\n  | 'firstCharError'\n  | 'repeatWord'\n  | 'gamerWon';\nexport type Turn = 'computer' | 'gamer';\nexport type MicMode = 'listening' | 'processing' | 'off';\n\nexport type GameState = {\n  status: GameStatus;\n  turn: Turn;\n  spokenWords: Array<string>;\n  lastWord: string;\n  thinking: boolean;\n  micMode: MicMode;\n  computerSkor: number;\n  gamerSkor: number;\n  wonMessage: string;\n};\n\nexport type Action = {\n  type:\n    | typeof GAME_STATUS_CHANGE\n    | typeof LAST_WORD_CHANGE\n    | typeof MICMODE_CHANGE\n    | typeof WON_MESSAGE_CHANGE;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  payload: any;\n};\n\nexport type GameStoreHook = {\n  state: GameState;\n  actions: {\n    changeGameStatus: (status: GameStatus) => void;\n    changeLastWord: (lastWord: string) => void;\n    changeMicMode: (micMode: MicMode) => void;\n    changeWonMessage: (message: string) => void;\n  };\n};\n\nexport type RecognitionHook = {\n  start: () => void;\n  stop: () => void;\n  onResult: () => void;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  on: (event: string, callback: (data: any) => void) => void;\n  isSupported: () => boolean;\n};\n","import React, { createContext, Dispatch, useContext, useReducer } from 'react';\nimport {\n  Action,\n  GameState,\n  GameStatus,\n  GameStoreHook,\n  GAME_STATUS_CHANGE,\n  LAST_WORD_CHANGE,\n  MicMode,\n  MICMODE_CHANGE,\n  WON_MESSAGE_CHANGE,\n} from '../types';\n\nconst initialState: GameState = {\n  status: 'init',\n  turn: 'computer',\n  spokenWords: [],\n  lastWord: '',\n  thinking: true,\n  micMode: 'off',\n  computerSkor: 0,\n  gamerSkor: 0,\n  wonMessage: '',\n};\n\nconst GameStore = createContext<{\n  state: GameState;\n  dispatch: Dispatch<Action>;\n}>({\n  state: initialState,\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  dispatch: () => {},\n});\n\nconst gameStoreReducer = (state: GameState, action: Action): GameState => {\n  switch (action.type) {\n    case GAME_STATUS_CHANGE:\n      if (action.payload === 'init') {\n        return initialState;\n      }\n      return { ...state, status: action.payload };\n    case LAST_WORD_CHANGE:\n      return {\n        ...state,\n        thinking: state.turn === 'computer' ? false : true,\n        spokenWords: [...state.spokenWords, action.payload],\n        turn: state.turn === 'gamer' ? 'computer' : 'gamer',\n        lastWord: action.payload,\n        gamerSkor: state.turn === 'gamer' ? state.gamerSkor + 1 : state.gamerSkor,\n        computerSkor: state.turn === 'computer' ? state.computerSkor + 1 : state.computerSkor,\n      };\n    case MICMODE_CHANGE:\n      return { ...state, micMode: action.payload };\n    case WON_MESSAGE_CHANGE:\n      return { ...state, wonMessage: action.payload };\n    default:\n      return state;\n  }\n};\n\n// eslint-disable-next-line react/prop-types\nconst GameStoreProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [state, dispatch] = useReducer(gameStoreReducer, initialState);\n\n  return <GameStore.Provider value={{ state, dispatch }}>{children}</GameStore.Provider>;\n};\n\nconst useGameStore = (): GameStoreHook => {\n  const { state, dispatch } = useContext(GameStore);\n\n  const changeGameStatus = (status: GameStatus) =>\n    dispatch({ type: GAME_STATUS_CHANGE, payload: status });\n\n  const changeLastWord = (lastWord: string) =>\n    dispatch({ type: LAST_WORD_CHANGE, payload: lastWord });\n\n  const changeMicMode = (micMode: MicMode) => dispatch({ type: MICMODE_CHANGE, payload: micMode });\n\n  const changeWonMessage = (message: string) =>\n    dispatch({ type: WON_MESSAGE_CHANGE, payload: message });\n  return {\n    state,\n    actions: {\n      changeGameStatus,\n      changeLastWord,\n      changeMicMode,\n      changeWonMessage,\n    },\n  };\n};\n\nexport { GameStoreProvider, useGameStore };\n","import names from '../db/names.json';\n\nclass Game {\n  datas = names;\n  dataLength = names.length;\n  thinking = 2000;\n\n  getRandomWord() {\n    return this.datas[Math.floor(Math.random() * this.dataLength)];\n  }\n\n  computerTurn(lastWord: string, spokenWords: Array<string>): Promise<string> {\n    return new Promise<string>((resolve, reject) => {\n      const randomThinkingTime = Math.floor(Math.random() * 4000) + 300;\n      const notFoundChance = Math.floor(Math.random() * 100);\n      if (notFoundChance <= 30 && spokenWords.length > 4) {\n        setTimeout(() => {\n          reject('notFound');\n        }, 8000);\n      } else {\n        setTimeout(() => {\n          if (lastWord === '') {\n            resolve(this.getRandomWord());\n          } else {\n            const lastChar = lastWord[lastWord.length - 1];\n            const findedNames = this.datas.filter(\n              (name) => name[0] === lastChar && !spokenWords.includes(name),\n            );\n            const result = findedNames[Math.floor(Math.random() * findedNames.length)];\n            resolve(result);\n          }\n        }, randomThinkingTime);\n      }\n    });\n  }\n\n  gamerTurn(currentWord: string, lastWord: string, spokenWords: Array<string>): Promise<string> {\n    return new Promise((resolve, reject) => {\n      if (typeof currentWord !== 'string') reject('nomatch');\n      const lastChar = lastWord[lastWord.length - 1];\n      let _currentWord = currentWord.replace(/[^a-zA-ZığüşöçİĞÜŞÖÇ ]+/, '');\n      _currentWord = _currentWord.toLowerCase();\n      if (!_currentWord.startsWith(lastChar, 0)) {\n        reject('firstCharError');\n      } else {\n        const checkSpokenWords = spokenWords.includes(_currentWord);\n        if (checkSpokenWords) {\n          reject('repeatWord');\n        } else {\n          resolve(_currentWord);\n        }\n      }\n    });\n  }\n}\n\nconst game = new Game();\nexport default game;\n","interface IWindow extends Window {\n  webkitSpeechRecognition: any;\n}\nconst { webkitSpeechRecognition }: IWindow = window as unknown as IWindow;\n\nclass Speech {\n  recognition;\n  synth;\n  constructor() {\n    if (this.isSupported()) {\n      this.recognition = new webkitSpeechRecognition();\n      this.recognition.continuous = false;\n      this.recognition.lang = 'tr-TR';\n      this.synth = window.speechSynthesis;\n    }\n  }\n\n  isSupported() {\n    if ('webkitSpeechRecognition' in window && 'speechSynthesis' in window) {\n      return true;\n    }\n    return false;\n  }\n\n  getPermission() {\n    if (window.location.protocol !== 'https:') {\n      return Promise.reject();\n    }\n    return window.navigator.mediaDevices.getUserMedia({ audio: true });\n  }\n\n  start() {\n    this.recognition.start();\n  }\n\n  stop() {\n    this.recognition.stop();\n  }\n\n  on(event: string, callback: (data: any) => void) {\n    this.recognition[event] = (result: any) => callback(result);\n  }\n\n  speak(word: string) {\n    return new Promise((resolve) => {\n      const utterThis = new SpeechSynthesisUtterance(word);\n      utterThis.addEventListener('end', () => {\n        resolve(word);\n      });\n      this.synth?.speak(utterThis);\n    });\n  }\n}\n\nconst speech = new Speech();\nexport default speech;\n","import { useEffect } from 'react';\nimport game from '../services/Game';\nimport speech from '../services/Speech';\nimport { useGameStore } from '../stores/GameStore';\n\nconst Computer: React.FC = () => {\n  const {\n    state: { spokenWords, lastWord, thinking },\n    actions: { changeLastWord, changeGameStatus, changeWonMessage },\n  } = useGameStore();\n\n  useEffect(() => {\n    game\n      .computerTurn(lastWord, spokenWords)\n      .then((result) => {\n        speech.speak(result).finally(() => {\n          changeLastWord(result);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n        if (error === 'notFound') {\n          changeWonMessage('Bilgisayar yeni bir kelime bulamadı.');\n          changeGameStatus('gamerWon');\n        }\n      });\n  }, []);\n\n  return (\n    <>\n      {thinking && (\n        <>\n          <p>Düşünüyorum...</p>\n          {lastWord && <h2>{lastWord}</h2>}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Computer;\n","import { useEffect } from 'react';\nimport game from '../services/Game';\nimport speech from '../services/Speech';\nimport { useGameStore } from '../stores/GameStore';\n\nconst Gamer: React.FC = () => {\n  const {\n    state: { lastWord, spokenWords },\n    actions: { changeMicMode, changeLastWord, changeGameStatus },\n  } = useGameStore();\n\n  useEffect(() => {\n    speech.on('onsoundstart', () => {\n      changeMicMode('listening');\n    });\n\n    speech.on('onspeechend', () => {\n      changeMicMode('off');\n    });\n\n    speech.on('onnomatch', () => {\n      changeMicMode('off');\n      changeGameStatus('nomatch');\n    });\n\n    speech.on('onresult', (result) => {\n      changeMicMode('processing');\n      const word: string = result.results[0][0].transcript;\n      game\n        .gamerTurn(word, lastWord, spokenWords)\n        .then((name: string) => {\n          changeLastWord(name);\n          changeMicMode('off');\n        })\n        .catch((error) => {\n          changeGameStatus(error);\n        });\n    });\n    speech.start();\n  }, []);\n\n  return (\n    <>\n      <p>Son harfinden yenisini üretmen gereken kelime</p>\n      <h2>{lastWord}</h2>\n    </>\n  );\n};\n\nexport default Gamer;\n","import { FC, useEffect, useRef, useState } from 'react';\nconst Timer: FC<{ start: number; onFinish: () => void }> = ({ start, onFinish }) => {\n  const [time, setTime] = useState(start);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const intervalRef = useRef<any>();\n\n  useEffect(() => {\n    intervalRef.current = setInterval(() => {\n      setTime((prev) => prev - 1);\n    }, 1000);\n    return () => {\n      clearInterval(intervalRef.current);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (time === 0) {\n      onFinish();\n      clearInterval(intervalRef.current);\n    }\n  }, [time]);\n\n  return <>{time}</>;\n};\n\nexport default Timer;\n","const SvgDots: React.FC<React.SVGProps<SVGSVGElement>> = (props) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    viewBox=\"0 0 92 92\"\r\n    xmlSpace=\"preserve\"\r\n    {...props}\r\n  >\r\n    <path d=\"M21 53c-1.8 0-3.7-.8-5-2.1-1.3-1.3-2-3.1-2-4.9 0-1.8.8-3.6 2-5 1.3-1.3 3.1-2 5-2 1.8 0 3.6.8 4.9 2 1.3 1.3 2.1 3.1 2.1 5 0 1.8-.8 3.6-2.1 4.9-1.3 1.3-3.1 2.1-4.9 2.1zm29.9-2.1c1.3-1.3 2.1-3.1 2.1-4.9 0-1.8-.8-3.6-2.1-5-1.3-1.3-3.1-2-4.9-2-1.8 0-3.7.8-5 2-1.3 1.3-2 3.1-2 5 0 1.8.8 3.6 2 4.9 1.3 1.3 3.1 2.1 5 2.1 1.8 0 3.6-.8 4.9-2.1zm25 0c1.3-1.3 2.1-3.1 2.1-4.9 0-1.8-.8-3.6-2.1-5-1.3-1.3-3.1-2-4.9-2-1.8 0-3.7.8-5 2-1.3 1.3-2 3.1-2 5 0 1.8.8 3.6 2 4.9 1.3 1.3 3.1 2.1 5 2.1 1.8 0 3.6-.8 4.9-2.1z\" />\r\n  </svg>\r\n);\r\n\r\nexport default SvgDots;\r\n","const SvgMic: React.FC<React.SVGProps<SVGSVGElement>> = (props) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    viewBox=\"0 0 512 512\"\r\n    xmlSpace=\"preserve\"\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    {...props}\r\n  >\r\n    <path d=\"M448 224c0-17.672-14.328-32-32-32s-32 14.328-32 32c0 70.578-57.422 128-128 128s-128-57.422-128-128c0-17.672-14.328-32-32-32s-32 14.328-32 32c0 94.945 69.336 173.801 160 189.109V448h-16c-17.672 0-32 14.328-32 32v32h160v-32c0-17.672-14.328-32-32-32h-16v-34.891C378.664 397.801 448 318.945 448 224zM352 96c0-53.02-42.98-96-96-96s-96 42.98-96 96v48h192V96z\" />\r\n    <path d=\"M256 320c53.02 0 96-42.98 96-96v-48H160v48c0 53.02 42.98 96 96 96z\" />\r\n  </svg>\r\n);\r\n\r\nexport default SvgMic;\r\n","const SvgRobot: React.FC<React.SVGProps<SVGSVGElement>> = (props) => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    viewBox=\"0 0 475.764 475.764\"\r\n    xmlSpace=\"preserve\"\r\n    width=\"1em\"\r\n    height=\"1em\"\r\n    {...props}\r\n  >\r\n    <path\r\n      style={{\r\n        fill: '#f4661e',\r\n      }}\r\n      d=\"M62.064 7.5c20.128 0 36.376 16.248 36.376 36.376S82.192 80.252 62.064 80.252 25.688 64.004 25.688 43.876C25.688 23.748 41.936 7.5 62.064 7.5zM413.701 7.5c20.128 0 36.376 16.248 36.376 36.376s-16.248 36.376-36.376 36.376-36.376-16.248-36.376-36.376C377.324 23.748 393.572 7.5 413.701 7.5z\"\r\n    />\r\n    <path\r\n      style={{\r\n        fill: '#afb6bb',\r\n      }}\r\n      d=\"M165.13 74.19h145.505v54.564H165.13zM19.625 219.694h42.439v72.752H19.625zM413.701 219.694h42.439v72.752h-42.439z\"\r\n    />\r\n    <path\r\n      style={{\r\n        fill: '#767d81',\r\n      }}\r\n      d=\"M413.701 292.447v175.818H62.064V128.754h351.637v90.94z\"\r\n    />\r\n    <path\r\n      style={{\r\n        fill: '#e7eced',\r\n      }}\r\n      d=\"M347.011 371.262v24.251c0 6.669-5.456 12.125-12.125 12.125H140.879c-6.669 0-12.125-5.456-12.125-12.125v-24.251c0-6.669 5.456-12.125 12.125-12.125h194.006c6.67-.001 12.126 5.456 12.126 12.125zM153.005 189.381c26.797 0 48.501 21.704 48.501 48.502 0 26.797-21.704 48.502-48.501 48.502s-48.502-21.704-48.502-48.502c0-26.798 21.705-48.502 48.502-48.502zM322.76 189.381c26.797 0 48.501 21.704 48.501 48.502 0 26.797-21.704 48.502-48.501 48.502s-48.502-21.704-48.502-48.502c.001-26.798 21.705-48.502 48.502-48.502z\"\r\n    />\r\n    <path d=\"M463.639 212.194h-42.438V87.097c20.631-3.57 36.376-21.586 36.376-43.221C457.577 19.683 437.894 0 413.701 0c-24.193 0-43.876 19.683-43.876 43.876 0 21.635 15.745 39.651 36.376 43.221v34.156h-88.066V66.689H157.63v54.564H69.564V87.097c20.631-3.57 36.376-21.586 36.376-43.221C105.94 19.683 86.258 0 62.064 0S18.188 19.683 18.188 43.876c0 21.635 15.745 39.651 36.376 43.221v125.097H12.125v87.752h42.439v175.818H421.2V299.946h42.438v-87.752h.001zM384.824 43.876C384.824 27.954 397.778 15 413.7 15s28.876 12.954 28.876 28.876-12.954 28.876-28.876 28.876-28.876-12.954-28.876-28.876zm-351.636 0C33.188 27.954 46.142 15 62.064 15S90.94 27.954 90.94 43.876 77.987 72.752 62.064 72.752 33.188 59.798 33.188 43.876zM172.63 81.689h57.752v22.813h15V81.689h57.752v39.564H172.63V81.689zM27.125 227.194h27.439v57.752H27.125v-57.752zm379.076 233.571H69.564V136.254H406.2v324.511h.001zm42.438-175.819h-27.438v-57.752h27.438v57.752z\" />\r\n    <path d=\"M209.006 237.883c0-30.88-25.122-56.002-56.001-56.002s-56.001 25.122-56.001 56.002c0 30.879 25.122 56.001 56.001 56.001s56.001-25.122 56.001-56.001zm-97.003 0c0-22.608 18.393-41.002 41.001-41.002s41.001 18.394 41.001 41.002-18.393 41.001-41.001 41.001-41.001-18.393-41.001-41.001zM322.76 181.881c-30.879 0-56.001 25.122-56.001 56.002 0 30.879 25.122 56.001 56.001 56.001 30.879 0 56.001-25.122 56.001-56.001.001-30.88-25.121-56.002-56.001-56.002zm0 97.003c-22.608 0-41.001-18.393-41.001-41.001s18.393-41.002 41.001-41.002c22.608 0 41.001 18.394 41.001 41.002s-18.392 41.001-41.001 41.001zM334.886 351.636H140.879c-10.821 0-19.625 8.804-19.625 19.626v24.251c0 10.821 8.804 19.625 19.625 19.625h194.006c10.821 0 19.625-8.804 19.625-19.625v-24.251c.001-10.823-8.803-19.626-19.624-19.626zm4.625 43.877c0 2.507-2.118 4.625-4.625 4.625H140.879c-2.507 0-4.625-2.118-4.625-4.625v-24.251c0-2.508 2.118-4.626 4.625-4.626h194.006c2.507 0 4.625 2.118 4.625 4.626l.001 24.251z\" />\r\n  </svg>\r\n);\r\n\r\nexport default SvgRobot;\r\n","import { FC } from 'react';\nimport { MicMode } from '../types';\nimport { Dots, Mic, Robot } from './icons';\n\nconst Avatar: FC<{\n  name: string;\n  turn: boolean;\n  isCom?: boolean;\n  micMode?: MicMode;\n}> = ({ name, turn, isCom, micMode }) => {\n  return (\n    <div className={`avatar-wrapper`}>\n      <div\n        style={{\n          borderColor: turn ? 'var(--turn-color)' : 'currentcolor',\n        }}\n        className={`avatar ${turn ? 'listening' : ''}`}\n      >\n        {isCom ? (\n          <Robot style={{ fontSize: '2rem' }} fill=\"var(--border-color)\" />\n        ) : micMode === 'processing' ? (\n          <Dots style={{ fontSize: '2rem' }} />\n        ) : (\n          <Mic\n            style={{ fontSize: '2rem' }}\n            fill={micMode === 'listening' ? 'var(--turn-color)' : 'var(--border-color)'}\n          />\n        )}\n      </div>\n      <div className=\"avatar-name\">{name}</div>\n    </div>\n  );\n};\n\nexport default Avatar;\n","import { useGameStore } from '../stores/GameStore';\nimport Computer from './Computer';\nimport Gamer from './Gamer';\nimport Timer from './Timer';\nimport Avatar from './Avatar';\nimport speech from '../services/Speech';\n\nconst Start: React.FC = () => {\n  const {\n    state: { turn, micMode, gamerSkor, computerSkor },\n    actions: { changeGameStatus },\n  } = useGameStore();\n\n  return (\n    <>\n      <div className=\"game-container\">\n        <div className=\"skor-board\">\n          <Avatar name=\"Sen\" turn={turn === 'gamer'} micMode={micMode} />\n          <div className=\"skors\">\n            {gamerSkor} - {computerSkor}\n          </div>\n          <Avatar name=\"Bilgisayar\" turn={turn === 'computer'} isCom />\n        </div>\n        <div className=\"game-area\">{turn === 'computer' ? <Computer /> : <Gamer />}</div>\n        <div className=\"timer\">\n          {turn === 'gamer' && (\n            <Timer\n              start={8}\n              onFinish={() => {\n                speech.stop();\n                changeGameStatus('timeover');\n              }}\n            />\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Start;\n","import { useEffect } from 'react';\nimport GameMessage from '../components/GameMessage';\nimport Init from '../components/Init';\nimport Start from '../components/Start';\nimport speech from '../services/Speech';\nimport { useGameStore } from '../stores/GameStore';\n\nconst AppContainer: React.FC = () => {\n  const {\n    state: { wonMessage, status, gamerSkor },\n    actions: { changeGameStatus },\n  } = useGameStore();\n\n  useEffect(() => {\n    if (!speech.isSupported()) {\n      changeGameStatus('unsupport');\n    } else {\n      changeGameStatus('init');\n    }\n  }, []);\n\n  const handleClickStart = () => {\n    speech\n      .getPermission()\n      .then(() => changeGameStatus('started'))\n      .catch(() => changeGameStatus('micAccessDenied'));\n  };\n\n  const handleRestart = () => {\n    changeGameStatus('init');\n  };\n\n  const renderMain = () => {\n    switch (status) {\n      case 'init':\n        return <Init onClick={handleClickStart} />;\n      case 'started':\n        return <Start />;\n      case 'nomatch':\n        return (\n          <GameMessage\n            title=\"Kaybettiniz!\"\n            desc={'Söylenilen kelime anlaşılamadı.'}\n            skor={gamerSkor}\n            onRestart={handleRestart}\n          />\n        );\n      case 'error':\n        return (\n          <GameMessage\n            title=\"Kaybettiniz\"\n            desc={'Sistem hatası oluştu'}\n            skor={gamerSkor}\n            onRestart={handleRestart}\n          />\n        );\n      case 'timeover':\n        return (\n          <GameMessage\n            title=\"Kaybettiniz\"\n            desc={'Verilen süre içinde yanıt verilmedi.'}\n            skor={gamerSkor}\n            onRestart={handleRestart}\n          />\n        );\n      case 'firstCharError':\n        return (\n          <GameMessage\n            title=\"Kaybettiniz\"\n            desc={'Söylenen ismin ilk harfi hatalı.'}\n            skor={gamerSkor}\n            onRestart={handleRestart}\n          />\n        );\n      case 'repeatWord':\n        return (\n          <GameMessage\n            title=\"Kaybettiniz\"\n            desc={'Söylenen kelime daha önce kullanıldı'}\n            skor={gamerSkor}\n            onRestart={handleRestart}\n          />\n        );\n      case 'micAccessDenied':\n        return (\n          <GameMessage\n            title=\"Microfona Erişemiyoruz\"\n            desc={'Microfona erişim izni verilmedi.'}\n            onRestart={handleRestart}\n          />\n        );\n      case 'unsupport':\n        return (\n          <GameMessage\n            title={'Desteklenmeyen Tarayıcı'}\n            desc={'Kullandığınız tarayıcı ses algılamayı desteklenmiyor'}\n            onRestart={handleRestart}\n          />\n        );\n      case 'gameover':\n        return (\n          <GameMessage\n            title={'Kaybettin'}\n            desc={'Kaybettin'}\n            skor={gamerSkor}\n            onRestart={handleRestart}\n          />\n        );\n      case 'gamerWon':\n        return (\n          <GameMessage\n            title={'Kazandın 🎉'}\n            desc={'Tebrikler bilgisayarı yenmeyi başardın.'}\n            skor={gamerSkor}\n            extraMessage={wonMessage}\n            onRestart={handleRestart}\n          />\n        );\n      default:\n        break;\n    }\n  };\n\n  return <>{renderMain()}</>;\n};\n\nexport default AppContainer;\n","import AppContainer from './containers/AppContainer';\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"container\">\n      <div className=\"app-name\">Kelime Türet</div>\n      <div className=\"app-content\">\n        <AppContainer />\n      </div>\n    </div>\n  );\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { GameStoreProvider } from './stores/GameStore';\n\nReactDOM.render(\n  <React.StrictMode>\n    <GameStoreProvider>\n      <App />\n    </GameStoreProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}